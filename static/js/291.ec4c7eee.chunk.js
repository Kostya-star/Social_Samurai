"use strict";(self.webpackChunkfapp_13_06_22=self.webpackChunkfapp_13_06_22||[]).push([[291],{4291:function(t,s,e){e.r(s),e.d(s,{default:function(){return T}});var n=e(1413),r=e(5671),o=e(3144),u=e(136),i=e(2882),a=e(2791),p=e(2982),c="MyPosts_postsBlock__JpHzU",l="MyPosts_btn__rhAd7",d="Post_item__l23gL",f=e(184),h=function(t){return(0,f.jsxs)("div",{className:d,children:[(0,f.jsx)("img",{src:"https://uprostim.com/wp-content/uploads/2021/03/image096-74.jpg"}),t.message,(0,f.jsxs)("div",{children:["like! ",t.likesCount]})]})},j=e(6139),x=e(704),g=e(8610),m=e(9086),v=(0,x.Z)({form:"ProfileAddNewPostForm"})((function(t){return(0,f.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,f.jsx)(j.Z,{name:"newPostText",component:m.gx,placeholder:"enter your message",validate:[g.C,(0,g.D)(10)]}),(0,f.jsx)("button",{className:l,children:"Add post"})]})})),Z=function(t){var s=(0,p.Z)(t.posts).reverse().map((function(t){return(0,f.jsx)(h,{message:t.message,likesCount:t.likesCount})}));return(0,f.jsxs)("div",{className:c,children:[(0,f.jsx)("h3",{children:"My posts"}),(0,f.jsx)(v,{onSubmit:function(s){t.addPost(s.newPostText)}}),(0,f.jsx)("div",{children:s})]})},k=e(7389),P="ProfileInfo_descriptionBlock__8CjGe",_=e(885),b=function(t){var s=(0,a.useState)(!1),e=(0,_.Z)(s,2),n=e[0],r=e[1],o=(0,a.useState)(t.status),u=(0,_.Z)(o,2),i=u[0],p=u[1];(0,a.useEffect)((function(){p(t.status)}),[t.status]);return(0,f.jsxs)("div",{children:[!n&&(0,f.jsx)("div",{children:(0,f.jsx)("span",{onClick:function(){r(!0)},children:t.status||"---------"})}),n&&(0,f.jsx)("div",{children:(0,f.jsx)("input",{onChange:function(t){p(t.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),t.updateStatus(i)},value:i})})]})},S=function(t){var s=t.profile,e=t.status,n=t.updateStatus;return s?(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:P,children:[(0,f.jsx)("img",{src:s.photos.large})," ",(0,f.jsx)("br",{}),"About me: ",s.aboutMe," ",(0,f.jsx)("br",{}),"Looking for a job: ",s.lookingForAJobDescription,(0,f.jsx)(b,{status:e,updateStatus:n})]})}):(0,f.jsx)(k.Z,{})},A=e(6070),C=e(8687),y=(0,C.$j)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(s){t((0,A.Wl)(s))}}}))(Z),w=function(t){return(0,f.jsxs)("div",{children:[(0,f.jsx)(S,{profile:t.profile,aboutMe:t.aboutMe,lookingForAJobDescription:t.lookingForAJobDescription,status:t.status,updateStatus:t.updateStatus}),(0,f.jsx)(y,{})]})},D=e(6871),M=e(1466),F=e(7781),N=function(t){(0,u.Z)(e,t);var s=(0,i.Z)(e);function e(){return(0,r.Z)(this,e),s.apply(this,arguments)}return(0,o.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.router.params.userId;t||!(t=this.props.authorizedUserId)&&this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return(0,f.jsx)(w,(0,n.Z)((0,n.Z)({},this.props),{},{status:this.props.status,updateStatus:this.props.updateStatus}))}}]),e}(a.Component);var T=(0,F.qC)((0,C.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:A.et,getStatus:A.lR,updateStatus:A.Nf}),(function(t){return function(s){var e=(0,D.TH)(),r=(0,D.s0)(),o=(0,D.UO)();return(0,f.jsx)(t,(0,n.Z)((0,n.Z)({},s),{},{router:{location:e,navigate:r,params:o}}))}}),M.D)(N)},1466:function(t,s,e){e.d(s,{D:function(){return f}});var n=e(1413),r=e(5671),o=e(3144),u=e(136),i=e(2882),a=e(2791),p=e(6871),c=e(8687),l=e(184),d=function(t){return{isAuth:t.auth.isAuth}},f=function(t){var s=function(s){(0,u.Z)(a,s);var e=(0,i.Z)(a);function a(){return(0,r.Z)(this,a),e.apply(this,arguments)}return(0,o.Z)(a,[{key:"render",value:function(){return this.props.isAuth?(0,l.jsx)(t,(0,n.Z)({},this.props)):(0,l.jsx)(p.Fg,{to:"/login"})}}]),a}(a.Component);return(0,c.$j)(d)(s)}}}]);
//# sourceMappingURL=291.ec4c7eee.chunk.js.map